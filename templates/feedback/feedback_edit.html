{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>FeelBuddy</title>
    <link rel="icon" href="/media/joy.png" type="image/png"/>
    <link rel="stylesheet" href="{% static '/css/feedback/feedback_edit.css' %}"/>
    <!-- Font Awesome CDN for star icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet"/>
    <link rel="stylesheet" href="/static/css/chatbot/nav.css">
</head>

<body>
<header class="chat-header" id="header">
    <!-- Header Content -->
</header>
<nav class="mobile-footer" role="menulist">
    <!-- Navigation Content -->
</nav>
<div class="first-container">
    <div class="supaviews">
        <img class="supaviews__logo" src="/media/joy.png"/>
        <div class="supaviews__gradient"></div>
        <div class="supaviews__add">
            <div class="supaview">
                <!-- 작성자 정보 -->
                <div class="client-info">
                    <!-- Client Info Content -->
                </div>

                <!-- 폼 시작 -->
                <form
                    id="reviewForm"
                    method="POST"
                    action="{% url 'feedback:feedback_edit' review.pk %}"
                    onsubmit="return validateForm()"
                >
                    {% csrf_token %}
                    <!-- 별점 표시 부분 -->
                    <fieldset class="supaview__rating">
                        {% for i in "54321" %}
                        <input type="radio" id="star{{ i }}" name="rate" value="{{ i }}"
                               {% if review.rate|stringformat:"i" == i %}checked{% endif %}/>
                        <label for="star{{ i }}"></label>
                        {% endfor %}
                    </fieldset>

                    <!-- 리뷰 메시지 부분 -->
                    <div class="supaview__copy">
                        <textarea name="message" placeholder="Message" rows="10" required>{{ review.message }}</textarea>
                    </div>

                    <!-- 저장 버튼 -->
                    <button type="submit" class="supaview__submit">
                        Save
                    </button>
                </form>
                <!-- 폼 끝 -->
            </div>
        </div>
    </div>
</div>

<script>
function validateForm() {
    const message = document.querySelector('textarea[name="message"]').value.trim();
    if (!message) {
        alert("Please enter a message.");
        return false; // 폼 제출을 막음
    }
    return true; // 폼 제출을 진행함
}
</script>
</body>
</html>
